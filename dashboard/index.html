<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSonic - Admin Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸš€ CSonic Admin Dashboard</h1>
            <p>WhatsApp Business Bot Management System</p>
        </header>

        <nav class="tabs">
            <button class="tab-btn active" data-tab="dashboard">Dashboard</button>
            <button class="tab-btn" data-tab="businesses">Businesses</button>
            <button class="tab-btn" data-tab="bookings">Bookings</button>
            <button class="tab-btn" data-tab="orders">Orders</button>
            <button class="tab-btn" data-tab="messages">Messages</button>
            <button class="tab-btn" data-tab="broadcasts">Broadcasts</button>
        </nav>

        <!-- Dashboard Tab -->
        <div class="tab-content active" id="dashboard">
            <h2>Overview</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Businesses</h3>
                    <p class="stat-number" id="stat-businesses">0</p>
                </div>
                <div class="stat-card">
                    <h3>Active Bookings</h3>
                    <p class="stat-number" id="stat-bookings">0</p>
                </div>
                <div class="stat-card">
                    <h3>Pending Orders</h3>
                    <p class="stat-number" id="stat-orders">0</p>
                </div>
                <div class="stat-card">
                    <h3>Messages Today</h3>
                    <p class="stat-number" id="stat-messages">0</p>
                </div>
            </div>

            <div class="recent-section">
                <h3>Recent Activity</h3>
                <div id="recent-activity" class="activity-list"></div>
            </div>
        </div>

        <!-- Businesses Tab -->
        <div class="tab-content" id="businesses">
            <div class="section-header">
                <h2>Businesses</h2>
                <button class="btn btn-primary" onclick="showAddBusinessModal()">+ Add Business</button>
            </div>
            <div id="businesses-list" class="list-container"></div>
        </div>

        <!-- Bookings Tab -->
        <div class="tab-content" id="bookings">
            <div class="section-header">
                <h2>Bookings</h2>
                <div class="filters">
                    <select id="booking-filter-business" onchange="loadBookings()">
                        <option value="">All Businesses</option>
                    </select>
                    <select id="booking-filter-status" onchange="loadBookings()">
                        <option value="">All Statuses</option>
                        <option value="pending">Pending</option>
                        <option value="confirmed">Confirmed</option>
                        <option value="completed">Completed</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>
            </div>
            <div id="bookings-list" class="list-container"></div>
        </div>

        <!-- Orders Tab -->
        <div class="tab-content" id="orders">
            <div class="section-header">
                <h2>Orders</h2>
                <div class="filters">
                    <select id="order-filter-business" onchange="loadOrders()">
                        <option value="">All Businesses</option>
                    </select>
                    <select id="order-filter-status" onchange="loadOrders()">
                        <option value="">All Statuses</option>
                        <option value="pending">Pending</option>
                        <option value="confirmed">Confirmed</option>
                        <option value="ready">Ready</option>
                        <option value="delivered">Delivered</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>
            </div>
            <div id="orders-list" class="list-container"></div>
        </div>

        <!-- Messages Tab -->
        <div class="tab-content" id="messages">
            <div class="section-header">
                <h2>Messages</h2>
                <div class="filters">
                    <select id="message-filter-business" onchange="loadMessages()">
                        <option value="">All Businesses</option>
                    </select>
                    <select id="message-filter-direction" onchange="loadMessages()">
                        <option value="">All</option>
                        <option value="incoming">Incoming</option>
                        <option value="outgoing">Outgoing</option>
                    </select>
                </div>
            </div>
            <div id="messages-list" class="list-container"></div>
        </div>

        <!-- Broadcasts Tab -->
        <div class="tab-content" id="broadcasts">
            <div class="section-header">
                <h2>Broadcast Messages</h2>
                <button class="btn btn-primary" onclick="showBroadcastModal()">+ New Broadcast</button>
            </div>
            <div id="broadcasts-list" class="list-container"></div>
        </div>
    </div>

    <!-- Add Business Modal -->
    <div id="business-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('business-modal')">&times;</span>
            <h2 id="modal-title">Add Business</h2>
            <form id="business-form" onsubmit="saveBusiness(event)">
                <input type="hidden" id="business-id">
                <div class="form-group">
                    <label>Business Name *</label>
                    <input type="text" id="business-name" required>
                </div>
                <div class="form-group">
                    <label>Business Type *</label>
                    <select id="business-type" required>
                        <option value="barber">Barber Shop</option>
                        <option value="carwash">Car Wash</option>
                        <option value="spaza">Spaza Shop</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Phone Number *</label>
                    <input type="text" id="business-phone" required placeholder="+27123456789">
                </div>
                <div class="form-group">
                    <label>WhatsApp Number *</label>
                    <input type="text" id="business-whatsapp" required placeholder="+27123456789">
                </div>
                <div class="form-group">
                    <label>Location</label>
                    <input type="text" id="business-location">
                </div>
                <div class="form-group">
                    <label>Default Language</label>
                    <select id="business-language">
                        <option value="en">English</option>
                        <option value="af">Afrikaans</option>
                        <option value="xh">Xhosa</option>
                        <option value="zu">Zulu</option>
                        <option value="st">Sotho</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="business-ai-enabled" checked>
                        AI Enabled
                    </label>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('business-modal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Broadcast Modal -->
    <div id="broadcast-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('broadcast-modal')">&times;</span>
            <h2>New Broadcast</h2>
            <form id="broadcast-form" onsubmit="sendBroadcast(event)">
                <div class="form-group">
                    <label>Business *</label>
                    <select id="broadcast-business" required></select>
                </div>
                <div class="form-group">
                    <label>Message *</label>
                    <textarea id="broadcast-message" rows="5" required placeholder="Enter your broadcast message..."></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('broadcast-modal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Send Broadcast</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

